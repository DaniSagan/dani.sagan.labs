import{A as he,B as ge,E as _e,I as ve,J as Ce,K as be,t as me,v as fe,x as S}from"./chunk-V4A2IJOB.js";import{j as pe}from"./chunk-DHWFIYG5.js";import{g as ne,h as oe,i as re,j as se,k as z,l as ae,m as Y,p as Q,r as le,s as ce,t as ue,u as de,y as B}from"./chunk-2TJHA3KD.js";import{Ab as u,Bb as U,Cb as H,Eb as P,Fb as E,Gb as T,Ib as M,Jb as v,Lb as ee,Qa as p,X as D,db as k,f as q,fa as x,fb as h,ga as G,gb as O,ib as K,lb as a,mb as l,mc as te,na as C,nb as V,nc as R,oa as b,ob as w,oc as ie,pb as f,qb as _,qc as X,wb as N,xb as W,yb as j}from"./chunk-DJKHKDP3.js";var Pe=()=>["/games/tic-tac-toe"],L=()=>["active"],I=()=>({exact:!0}),Ee=()=>["/games/four-in-a-row"],Te=()=>["/games/game-of-life"],Re=()=>["/games/rubik-cube"],Be=()=>["/games/sudoku"],xe=(()=>{let r=class r{};r.\u0275fac=function(t){return new(t||r)},r.\u0275cmp=x({type:r,selectors:[["app-games-navbar"]],standalone:!0,features:[M],decls:23,vars:30,consts:[[1,"nav-items"],[1,"subsection"],[3,"routerLink","routerLinkActive","routerLinkActiveOptions"]],template:function(t,i){t&1&&(a(0,"h2"),u(1,"Juegos"),l(),a(2,"div",0)(3,"ul")(4,"li")(5,"div",1),u(6,"Otros"),l(),a(7,"ul")(8,"li")(9,"a",2),u(10,"Tres en Raya"),l()(),a(11,"li")(12,"a",2),u(13,"Cuatro en Raya"),l()(),a(14,"li")(15,"a",2),u(16,"Juego de la Vida de Conway"),l()(),a(17,"li")(18,"a",2),u(19,"Cubo de Rubik"),l()(),a(20,"li")(21,"a",2),u(22,"Sudoku"),l()()()()()()),t&2&&(p(9),h("routerLink",v(15,Pe))("routerLinkActive",v(16,L))("routerLinkActiveOptions",v(17,I)),p(3),h("routerLink",v(18,Ee))("routerLinkActive",v(19,L))("routerLinkActiveOptions",v(20,I)),p(3),h("routerLink",v(21,Te))("routerLinkActive",v(22,L))("routerLinkActiveOptions",v(23,I)),p(3),h("routerLink",v(24,Re))("routerLinkActive",v(25,L))("routerLinkActiveOptions",v(26,I)),p(3),h("routerLink",v(27,Be))("routerLinkActive",v(28,L))("routerLinkActiveOptions",v(29,I)))},dependencies:[re,se],styles:[".nav-items[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style-type:none;margin:0 auto;padding:0}.nav-items[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{min-height:30px}.nav-items[_ngcontent-%COMP%]   .subsection[_ngcontent-%COMP%]{padding:5px 0;margin:5px 0;color:#000;font-weight:700}.nav-items[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{padding:5px;margin:5px;text-decoration:none;min-width:100px;color:#000;font-weight:400}.nav-items[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{background-color:#333;color:#fff}.nav-items[_ngcontent-%COMP%]   a.active[_ngcontent-%COMP%]{background-color:#04aa6d;color:#fff}"]});let s=r;return s})();var Ve=["canvas"],ke=(()=>{let r=class r{constructor(){this.board=[["","",""],["","",""],["","",""]],this.currentPlayer="X",this.gameOver=!1,this.cellSize=200}ngOnInit(){this.ctx=this.canvas.nativeElement.getContext("2d"),this.drawBoard()}drawBoard(){let e=this.canvas.nativeElement.width,t=this.canvas.nativeElement.height;this.ctx.clearRect(0,0,e,t),this.ctx.strokeStyle="#00FFFF",this.ctx.shadowColor="#00FFFF",this.ctx.shadowBlur=10,this.ctx.lineWidth=5;for(let i=1;i<=2;i++)this.ctx.beginPath(),this.ctx.moveTo(i*this.cellSize,0),this.ctx.lineTo(i*this.cellSize,t),this.ctx.stroke(),this.ctx.beginPath(),this.ctx.moveTo(0,i*this.cellSize),this.ctx.lineTo(e,i*this.cellSize),this.ctx.stroke();for(let i=0;i<3;i++)for(let n=0;n<3;n++){let o=this.board[i][n];o&&this.drawMark(o,i,n)}}drawMark(e,t,i){let n=i*this.cellSize,o=t*this.cellSize;this.ctx.font="100px Arial",this.ctx.fillStyle="#00FFFF",this.ctx.textAlign="center",this.ctx.textBaseline="middle",e==="X"?this.ctx.fillText("X",n+this.cellSize/2,o+this.cellSize/2):e==="O"&&this.ctx.fillText("O",n+this.cellSize/2,o+this.cellSize/2)}handleClick(e){return q(this,null,function*(){if(this.gameOver)return;let t=this.canvas.nativeElement.getBoundingClientRect(),i=e.clientX-t.left,n=e.clientY-t.top,o=Math.floor(i/this.cellSize),c=Math.floor(n/this.cellSize);this.board[c][o]===""&&(this.board[c][o]=this.currentPlayer,this.drawBoard(),this.checkWin(this.currentPlayer)?(alert(this.currentPlayer+" gana!"),this.gameOver=!0):this.checkTie()?(alert("Es un empate!"),this.gameOver=!0):(this.currentPlayer=this.currentPlayer==="X"?"O":"X",this.currentPlayer==="O"&&(yield this.aiMove())))})}aiMove(){return q(this,null,function*(){yield this.sleep(500);let e=this.minimax(this.board,"O").move;e&&(this.board[e.row][e.col]="O",this.drawBoard(),this.checkWin("O")?(alert("O gana!"),this.gameOver=!0):this.checkTie()?(alert("Es un empate!"),this.gameOver=!0):this.currentPlayer="X")})}minimax(e,t){if(this.checkWin("X"))return{score:-10,move:null};if(this.checkWin("O"))return{score:10,move:null};if(this.checkTie())return{score:0,move:null};let i={score:t==="O"?-1/0:1/0,move:null};for(let n=0;n<3;n++)for(let o=0;o<3;o++)if(e[n][o]===""){e[n][o]=t;let c=this.minimax(e,t==="O"?"X":"O").score;e[n][o]="",(t==="O"&&c>i.score||t==="X"&&c<i.score)&&(i={score:c,move:{row:n,col:o}})}return i}checkWin(e){return[[[0,0],[0,1],[0,2]],[[1,0],[1,1],[1,2]],[[2,0],[2,1],[2,2]],[[0,0],[1,0],[2,0]],[[0,1],[1,1],[2,1]],[[0,2],[1,2],[2,2]],[[0,0],[1,1],[2,2]],[[0,2],[1,1],[2,0]]].some(i=>i.every(([n,o])=>this.board[n][o]===e))}checkTie(){return this.board.flat().every(e=>e!=="")}sleep(e){return new Promise(t=>setTimeout(t,e))}resetGame(){this.board=[["","",""],["","",""],["","",""]],this.currentPlayer="X",this.gameOver=!1,this.drawBoard()}};r.\u0275fac=function(t){return new(t||r)},r.\u0275cmp=x({type:r,selectors:[["app-tic-tac-toe"]],viewQuery:function(t,i){if(t&1&&N(Ve,7),t&2){let n;W(n=j())&&(i.canvas=n.first)}},standalone:!0,features:[M],decls:7,vars:0,consts:[["canvas",""],[3,"click"],["width","600","height","600",3,"click"]],template:function(t,i){if(t&1){let n=w();a(0,"h2"),u(1,"Tres en Raya"),l(),a(2,"div")(3,"button",1),f("click",function(){return C(n),b(i.resetGame())}),u(4,"Reiniciar Juego"),l()(),a(5,"canvas",2,0),f("click",function(c){return C(n),b(i.handleClick(c))}),l()}},styles:["canvas[_ngcontent-%COMP%]{border:1px solid black;background-color:#000;display:block;margin-top:20px}button[_ngcontent-%COMP%]{margin:5px;padding:10px;background-color:#444;color:#fff;border:none;cursor:pointer}button[_ngcontent-%COMP%]:hover{background-color:#666}"]});let s=r;return s})();var ze=(s,r)=>({red:s,yellow:r});function Le(s,r){if(s&1){let d=w();a(0,"div",5),f("click",function(){let t=C(d).index,i=_(2);return b(i.placePiece(t))}),l()}if(s&2){let d=r.$implicit;h("ngClass",ee(1,ze,d==="R",d==="Y"))}}function Ie(s,r){if(s&1&&(a(0,"div",3),k(1,Le,1,4,"div",4),l()),s&2){let d=r.$implicit;p(),h("ngForOf",d)}}var we=(()=>{let r=class r{constructor(){this.rows=6,this.cols=7,this.board=[],this.currentPlayer="R",this.gameOver=!1,this.message=""}ngOnInit(){this.initializeBoard()}initializeBoard(){this.board=[];for(let e=0;e<this.rows;e++){this.board[e]=[];for(let t=0;t<this.cols;t++)this.board[e][t]=""}this.gameOver=!1,this.currentPlayer="R",this.message="Tu turno"}placePiece(e){if(!(this.gameOver||this.board[0][e]!=="")){for(let t=this.rows-1;t>=0;t--)if(this.board[t][e]===""){this.board[t][e]=this.currentPlayer;break}if(this.checkWin(this.currentPlayer)){this.message=this.currentPlayer==="R"?"\xA1Ganaste!":"El ordenador gan\xF3",this.gameOver=!0;return}this.currentPlayer=this.currentPlayer==="R"?"Y":"R",this.currentPlayer==="Y"?(this.message="Turno del ordenador...",setTimeout(()=>this.computerMove(),500)):this.message="Tu turno"}}computerMove(){if(this.gameOver)return;let e=-1/0,t=0;for(let i=0;i<this.cols;i++)if(this.board[0][i]===""){let n=this.getNextOpenRow(i);if(n!==-1){this.board[n][i]="Y";let o=this.minimax(this.board,5,!1);this.board[n][i]="",o>e&&(e=o,t=i)}}this.placePiece(t)}getNextOpenRow(e){for(let t=this.rows-1;t>=0;t--)if(this.board[t][e]==="")return t;return-1}minimax(e,t,i){if(this.checkWin("Y"))return 1e3;if(this.checkWin("R"))return-1e3;if(this.isBoardFull())return 0;if(t===0)return this.evaluateBoard(e);if(i){let n=-1/0;for(let o=0;o<this.cols;o++){let c=this.getNextOpenRow(o);if(c!==-1){e[c][o]="Y";let m=this.minimax(e,t-1,!1);e[c][o]="",n=Math.max(n,m)}}return n}else{let n=1/0;for(let o=0;o<this.cols;o++){let c=this.getNextOpenRow(o);if(c!==-1){e[c][o]="R";let m=this.minimax(e,t-1,!0);e[c][o]="",n=Math.min(n,m)}}return n}}evaluateBoard(e){let t=0;return t+=this.evaluateLine(e,"Y"),t-=this.evaluateLine(e,"R"),t}evaluateLine(e,t){let i=0;return i+=this.checkRowsForScore(e,t),i+=this.checkColsForScore(e,t),i+=this.checkDiagonalsForScore(e,t),i}checkRowsForScore(e,t){let i=0;for(let n=0;n<this.rows;n++)for(let o=0;o<this.cols-3;o++){let c=e[n].slice(o,o+4);i+=this.evaluateWindow(c,t)}return i}checkColsForScore(e,t){let i=0;for(let n=0;n<this.cols;n++)for(let o=0;o<this.rows-3;o++){let c=[e[o][n],e[o+1][n],e[o+2][n],e[o+3][n]];i+=this.evaluateWindow(c,t)}return i}checkDiagonalsForScore(e,t){let i=0;for(let n=0;n<this.rows-3;n++)for(let o=0;o<this.cols-3;o++){let c=[e[n][o],e[n+1][o+1],e[n+2][o+2],e[n+3][o+3]];i+=this.evaluateWindow(c,t)}for(let n=0;n<this.rows-3;n++)for(let o=3;o<this.cols;o++){let c=[e[n][o],e[n+1][o-1],e[n+2][o-2],e[n+3][o-3]];i+=this.evaluateWindow(c,t)}return i}evaluateWindow(e,t){let i=0,n=t==="Y"?"R":"Y",o=e.filter(g=>g===t).length,c=e.filter(g=>g==="").length,m=e.filter(g=>g===n).length;return o===4?i+=100:o===3&&c===1?i+=5:o===2&&c===2&&(i+=2),m===3&&c===1&&(i-=4),i}isBoardFull(){for(let e=0;e<this.cols;e++)if(this.board[0][e]==="")return!1;return!0}checkWin(e){return this.checkRows(e)||this.checkCols(e)||this.checkDiagonals(e)}checkRows(e){for(let t=0;t<this.rows;t++)for(let i=0;i<this.cols-3;i++)if(this.board[t][i]===e&&this.board[t][i+1]===e&&this.board[t][i+2]===e&&this.board[t][i+3]===e)return!0;return!1}checkCols(e){for(let t=0;t<this.cols;t++)for(let i=0;i<this.rows-3;i++)if(this.board[i][t]===e&&this.board[i+1][t]===e&&this.board[i+2][t]===e&&this.board[i+3][t]===e)return!0;return!1}checkDiagonals(e){for(let t=0;t<this.rows-3;t++)for(let i=0;i<this.cols-3;i++)if(this.board[t][i]===e&&this.board[t+1][i+1]===e&&this.board[t+2][i+2]===e&&this.board[t+3][i+3]===e)return!0;for(let t=0;t<this.rows-3;t++)for(let i=3;i<this.cols;i++)if(this.board[t][i]===e&&this.board[t+1][i-1]===e&&this.board[t+2][i-2]===e&&this.board[t+3][i-3]===e)return!0;return!1}resetGame(){this.initializeBoard()}};r.\u0275fac=function(t){return new(t||r)},r.\u0275cmp=x({type:r,selectors:[["app-four-in-a-row"]],standalone:!0,features:[M],decls:8,vars:2,consts:[[1,"game-board"],["class","row",4,"ngFor","ngForOf"],[3,"click"],[1,"row"],["class","cell",3,"ngClass","click",4,"ngFor","ngForOf"],[1,"cell",3,"click","ngClass"]],template:function(t,i){t&1&&(a(0,"h2"),u(1,"Cuatro en Raya"),l(),a(2,"div",0),k(3,Ie,2,1,"div",1),l(),a(4,"p"),u(5),l(),a(6,"button",2),f("click",function(){return i.resetGame()}),u(7,"Reiniciar juego"),l()),t&2&&(p(3),h("ngForOf",i.board),p(2),U(i.message))},dependencies:[R,te],styles:[".game-board[_ngcontent-%COMP%]{display:grid;grid-template-rows:repeat(6,50px);gap:5px;justify-content:center}.row[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(7,50px);gap:5px}.cell[_ngcontent-%COMP%]{width:50px;height:50px;background-color:#00f;border-radius:50%;display:flex;align-items:center;justify-content:center;cursor:pointer}.red[_ngcontent-%COMP%]{background-color:red}.yellow[_ngcontent-%COMP%]{background-color:#ff0}button[_ngcontent-%COMP%]{margin-top:20px}"]});let s=r;return s})();function De(s,r){if(s&1){let d=w();a(0,"td",8),f("click",function(){let t=C(d).index,i=_().index,n=_();return b(n.toggleCell(i,t))}),l()}if(s&2){let d=r.$implicit;O("alive",d)}}function Ge(s,r){if(s&1&&(a(0,"tr"),k(1,De,1,2,"td",11),l()),s&2){let d=r.$implicit;p(),h("ngForOf",d)}}var J=(()=>{let r=class r{constructor(){this.rows=20,this.cols=20,this.board=[],this.running=!1,this.speed=500}ngOnInit(){this.createBoard()}createBoard(){this.board=[];for(let e=0;e<this.rows;e++){this.board[e]=[];for(let t=0;t<this.cols;t++)this.board[e][t]=!1}}toggleCell(e,t){this.board[e][t]=!this.board[e][t]}nextGeneration(){let e=this.createEmptyBoard();for(let t=0;t<this.rows;t++)for(let i=0;i<this.cols;i++){let n=this.countAliveNeighbors(t,i),o=this.board[t][i];o&&(n===2||n===3)||!o&&n===3?e[t][i]=!0:e[t][i]=!1}this.board=e}createEmptyBoard(){let e=[];for(let t=0;t<this.rows;t++){e[t]=[];for(let i=0;i<this.cols;i++)e[t][i]=!1}return e}countAliveNeighbors(e,t){let i=0;for(let n=-1;n<=1;n++)for(let o=-1;o<=1;o++){if(n===0&&o===0)continue;let c=e+n,m=t+o;this.isValidCell(c,m)&&this.board[c][m]&&i++}return i}isValidCell(e,t){return e>=0&&e<this.rows&&t>=0&&t<this.cols}startGame(){this.running||(this.running=!0,this.interval=setInterval(()=>this.nextGeneration(),this.speed))}pauseGame(){this.running&&(this.running=!1,clearInterval(this.interval))}resetBoard(){this.pauseGame(),this.createBoard()}resizeBoard(){this.pauseGame(),this.createBoard()}changeSpeed(e){this.speed=e,this.running&&(this.pauseGame(),this.startGame())}};r.\u0275fac=function(t){return new(t||r)},r.\u0275cmp=x({type:r,selectors:[["app-game-of-life"]],standalone:!0,features:[M],decls:21,vars:6,consts:[[1,"controls"],["for","rows"],["id","rows","type","number",3,"ngModelChange","change","ngModel"],["for","cols"],["id","cols","type","number",3,"ngModelChange","change","ngModel"],["for","speed"],["id","speed","type","number",3,"ngModelChange","change","ngModel"],[3,"click","disabled"],[3,"click"],[1,"board"],[4,"ngFor","ngForOf"],[3,"alive","click",4,"ngFor","ngForOf"]],template:function(t,i){t&1&&(a(0,"h2"),u(1,"Juego de la Vida de Conway"),l(),a(2,"div",0)(3,"label",1),u(4,"Filas:"),l(),a(5,"input",2),T("ngModelChange",function(o){return E(i.rows,o)||(i.rows=o),o}),f("change",function(){return i.resizeBoard()}),l(),a(6,"label",3),u(7,"Columnas:"),l(),a(8,"input",4),T("ngModelChange",function(o){return E(i.cols,o)||(i.cols=o),o}),f("change",function(){return i.resizeBoard()}),l(),a(9,"label",5),u(10,"Velocidad (ms):"),l(),a(11,"input",6),T("ngModelChange",function(o){return E(i.speed,o)||(i.speed=o),o}),f("change",function(){return i.changeSpeed(i.speed)}),l(),a(12,"button",7),f("click",function(){return i.startGame()}),u(13,"Iniciar"),l(),a(14,"button",7),f("click",function(){return i.pauseGame()}),u(15,"Pausar"),l(),a(16,"button",8),f("click",function(){return i.resetBoard()}),u(17,"Reiniciar"),l()(),a(18,"div",9)(19,"table"),k(20,Ge,2,1,"tr",10),l()()),t&2&&(p(5),P("ngModel",i.rows),p(3),P("ngModel",i.cols),p(3),P("ngModel",i.speed),p(),h("disabled",i.running),p(2),h("disabled",!i.running),p(6),h("ngForOf",i.board))},dependencies:[B,ae,le,Y,Q,R],styles:[".controls[_ngcontent-%COMP%]{margin-bottom:10px}.board[_ngcontent-%COMP%]{display:flex;justify-content:center}table[_ngcontent-%COMP%]{border-collapse:collapse}td[_ngcontent-%COMP%]{width:20px;height:20px;border:1px solid #ccc;background-color:#fff}td.alive[_ngcontent-%COMP%]{background-color:#000}button[_ngcontent-%COMP%]{margin-left:10px}"]});let s=r;return s})();var Me=(()=>{let r=class r{};r.\u0275fac=function(t){return new(t||r)},r.\u0275cmp=x({type:r,selectors:[["app-games-content"]],standalone:!0,features:[M],decls:5,vars:0,consts:[[1,"article-with-sidebar"],[1,"sidebar"],[1,"body-text"]],template:function(t,i){t&1&&(a(0,"div",0)(1,"div",1),V(2,"app-games-navbar"),l(),a(3,"div",2),V(4,"router-outlet"),l()())},dependencies:[xe,oe]});let s=r;return s})();var Ne=["canvas"],Oe=(()=>{let r=class r{constructor(){this.rotationSpeed=.01,this.isRotating=!1,this.colors={white:"#FFFFFF",red:"#FF0000",blue:"#0000FF",green:"#00FF00",yellow:"#FFFF00",orange:"#FFA500"}}ngAfterViewInit(){this.initScene(),this.animate()}initScene(){let e=this.canvasRef.nativeElement;this.scene=new be,this.camera=new _e(75,e.clientWidth/e.clientHeight,.1,1e3),this.camera.position.z=5,this.renderer=new Ce({canvas:e}),this.renderer.setSize(e.clientWidth,e.clientHeight),this.cube=new ve;let t=.9;for(let i=-1;i<=1;i++)for(let n=-1;n<=1;n++)for(let o=-1;o<=1;o++){let c=new ge(t,t,t),m=[new S({color:this.colors.white}),new S({color:this.colors.yellow}),new S({color:this.colors.red}),new S({color:this.colors.orange}),new S({color:this.colors.blue}),new S({color:this.colors.green})],g=new he(c,m);g.position.set(i,n,o),g.userData={x:i,y:n,z:o},this.cube.add(g)}this.scene.add(this.cube)}animate(){requestAnimationFrame(()=>this.animate()),this.renderer.render(this.scene,this.camera)}rotateFace(e,t,i){if(this.isRotating)return;this.isRotating=!0;let n=500,o=i*Math.PI/2,c=this.cube.children.filter(F=>Math.round(F.position[e])===t),m,g=F=>{m||(m=F);let A=F-m,$=Math.min(A/n,1),Z=new fe;Z.makeRotationAxis(new me(e==="x"?1:0,e==="y"?1:0,e==="z"?1:0),$*o),c.forEach(Fe=>{Fe.applyMatrix4(Z)}),$<1?requestAnimationFrame(g):(this.updateCubiesPosition(c,e,i),this.isRotating=!1)};requestAnimationFrame(g)}updateCubiesPosition(e,t,i){e.forEach(n=>{let{x:o,y:c,z:m}=n.userData;switch(t){case"x":n.userData.y=i>0?-m:m,n.userData.z=i>0?c:-c;break;case"y":n.userData.x=i>0?m:-m,n.userData.z=i>0?-o:o;break;case"z":n.userData.x=i>0?-c:c,n.userData.y=i>0?o:-o;break}n.position.set(n.userData.x,n.userData.y,n.userData.z)})}rotateCube(e,t){e==="x"?this.cube.rotation.x+=t*Math.PI/2:e==="y"?this.cube.rotation.y+=t*Math.PI/2:e==="z"&&(this.cube.rotation.z+=t*Math.PI/2)}};r.\u0275fac=function(t){return new(t||r)},r.\u0275cmp=x({type:r,selectors:[["app-rubik-cube"]],viewQuery:function(t,i){if(t&1&&N(Ne,5),t&2){let n;W(n=j())&&(i.canvasRef=n.first)}},decls:18,vars:0,consts:[["canvas",""],[1,"controls"],[3,"click"]],template:function(t,i){if(t&1){let n=w();a(0,"h2"),u(1,"Cubo de Rubik"),l(),a(2,"div"),V(3,"canvas",null,0),a(5,"div",1)(6,"button",2),f("click",function(){return C(n),b(i.rotateFace("x",1,1))}),u(7,"Rotar Cara X+"),l(),a(8,"button",2),f("click",function(){return C(n),b(i.rotateFace("x",1,-1))}),u(9,"Rotar Cara X-"),l(),a(10,"button",2),f("click",function(){return C(n),b(i.rotateFace("y",1,1))}),u(11,"Rotar Cara Y+"),l(),a(12,"button",2),f("click",function(){return C(n),b(i.rotateFace("y",1,-1))}),u(13,"Rotar Cara Y-"),l(),a(14,"button",2),f("click",function(){return C(n),b(i.rotateFace("z",1,1))}),u(15,"Rotar Cara Z+"),l(),a(16,"button",2),f("click",function(){return C(n),b(i.rotateFace("z",1,-1))}),u(17,"Rotar Cara Z-"),l()()()}},styles:["canvas[_ngcontent-%COMP%]{width:100%;height:100%;display:block;border:1px solid black}.controls[_ngcontent-%COMP%]{margin-top:20px;display:flex;gap:10px}button[_ngcontent-%COMP%]{padding:10px;cursor:pointer}"]});let s=r;return s})();var We=()=>[1,2,3,4,5],je=()=>[6,7,8,9];function He(s,r){if(s&1){let d=w();a(0,"span",7),f("click",function(){let t=C(d).$implicit,i=_(2).index,n=_().index,o=_();return b(o.togglePossibleValue(n,i,t))}),u(1),l()}if(s&2){let d=r.$implicit,e=_(2).$implicit;O("active",e.possibleValues.includes(d)),p(),H(" ",d," ")}}function Xe(s,r){s&1&&(a(0,"div",15),k(1,He,2,3,"span",16),l()),s&2&&(p(),h("ngForOf",v(1,We)))}function Ye(s,r){if(s&1){let d=w();a(0,"span",7),f("click",function(){let t=C(d).$implicit,i=_(2).index,n=_().index,o=_();return b(o.togglePossibleValue(n,i,t))}),u(1),l()}if(s&2){let d=r.$implicit,e=_(2).$implicit;O("active",e.possibleValues.includes(d)),p(),H(" ",d," ")}}function Qe(s,r){s&1&&(a(0,"div",17),k(1,Ye,2,3,"span",16),l()),s&2&&(p(),h("ngForOf",v(1,je)))}function Je(s,r){if(s&1){let d=w();a(0,"td")(1,"div",11)(2,"input",12),f("input",function(t){let i=C(d).index,n=_().index,o=_();return b(o.updateBoard(n,i,t.target.value))}),l(),k(3,Xe,2,2,"div",13)(4,Qe,2,2,"div",14),l()()}if(s&2){let d=r.$implicit,e=r.index,t=_().index,i=_();K("row-",t," col-",e,""),p(),O("invalid",i.solutionChecked&&!i.isSafeSolution(t,e,d.value))("disabled",d.isFixed),p(),O("invalid",i.solutionChecked&&!i.isSafeSolution(t,e,d.value)),h("value",d.value===null?"":d.value)("disabled",d.isFixed),p(),h("ngIf",!d.isFixed),p(),h("ngIf",!d.isFixed)}}function qe(s,r){if(s&1&&(a(0,"tr"),k(1,Je,5,14,"td",10),l()),s&2){let d=r.$implicit;p(),h("ngForOf",d)}}function $e(s,r){if(s&1&&(a(0,"p"),u(1),l()),s&2){let d=_();O("success",d.solutionMessage.includes("correcta"))("error",!d.solutionMessage.includes("correcta")),p(),H(" ",d.solutionMessage," ")}}var ye=(()=>{let r=class r{constructor(){this.sudokuBoard=[],this.initialBoard=[],this.solutionChecked=!1,this.solutionMessage="",this.difficulty="Easy"}ngOnInit(){this.generatePuzzle()}generatePuzzle(){let e=this.generateCompleteBoard();this.initialBoard=e.map(t=>t.map(i=>({value:i.value,possibleValues:[],isFixed:i.isFixed}))),this.sudokuBoard=this.removeNumbers(e,this.getRemovalCount()),this.solutionChecked=!1,this.solutionMessage=""}getRemovalCount(){switch(this.difficulty){case"Easy":return 35;case"Medium":return 45;case"Hard":return 55;default:return 35}}generateCompleteBoard(){let e=Array.from({length:9},()=>Array(9).fill(null).map(()=>({value:null,possibleValues:[],isFixed:!1})));return this.fillBoard(e),e}fillBoard(e){for(let t=0;t<9;t++)for(let i=0;i<9;i++)if(e[t][i].value===null){let n=this.shuffleArray([1,2,3,4,5,6,7,8,9]);for(let o of n)if(this.isSafe(e,t,i,o)){if(e[t][i].value=o,this.fillBoard(e))return!0;e[t][i].value=null}return!1}return!0}removeNumbers(e,t){let i=e.map(n=>n.map(o=>({value:o.value,possibleValues:[],isFixed:!0})));for(;t>0;){console.log("count",t);let n=Math.floor(Math.random()*9),o=Math.floor(Math.random()*9);if(i[n][o].value!==null){let c=i[n][o].value;i[n][o].value=null,i[n][o].isFixed=!1;let m=i.map(F=>F.map(A=>({value:A.value,possibleValues:[],isFixed:A.isFixed}))),g=0;this.solveBoard(m,()=>g++),console.log("solutions",g),g!==1?(i[n][o].value=c,i[n][o].isFixed=!0):t--}}return i}solveBoard(e,t){for(let i=0;i<9;i++)for(let n=0;n<9;n++)if(e[i][n].value===null){for(let o=1;o<=9;o++)this.isSafe(e,i,n,o)&&(e[i][n].value=o,this.solveBoard(e,t)&&t(),e[i][n].value=null);return!1}return!0}isSafe(e,t,i,n){if(e[t].some(m=>m.value===n))return!1;for(let m=0;m<9;m++)if(e[m][i].value===n)return!1;let o=Math.floor(t/3)*3,c=Math.floor(i/3)*3;for(let m=o;m<o+3;m++)for(let g=c;g<c+3;g++)if(e[m][g].value===n)return!1;return!0}shuffleArray(e){for(let t=e.length-1;t>0;t--){let i=Math.floor(Math.random()*(t+1));[e[t],e[i]]=[e[i],e[t]]}return e}checkSolution(){this.solutionChecked=!0,this.isSolutionCorrect()?this.solutionMessage="\xA1Felicidades! La soluci\xF3n es correcta.":this.solutionMessage="La soluci\xF3n es incorrecta. Revisa las celdas resaltadas."}isSolutionCorrect(){for(let e=0;e<9;e++)for(let t=0;t<9;t++)if(this.sudokuBoard[e][t].value===null||!this.isSafeSolution(e,t,this.sudokuBoard[e][t].value))return!1;return!0}isSafeSolution(e,t,i){let n=this.sudokuBoard[e][t].value;this.sudokuBoard[e][t].value=null;let o=this.isSafe(this.sudokuBoard,e,t,i);return this.sudokuBoard[e][t].value=n,o}resetBoard(){this.sudokuBoard=this.initialBoard.map(e=>e.map(t=>({value:t.value,possibleValues:[],isFixed:t.isFixed}))),this.solutionChecked=!1,this.solutionMessage=""}updateBoard(e,t,i){if(this.initialBoard[e][t].isFixed)return;let n=parseInt(i,10);isNaN(n)||n<1||n>9?this.sudokuBoard[e][t].value=null:this.sudokuBoard[e][t].value=n,this.solutionChecked=!1,this.solutionMessage=""}changeDifficulty(e){this.difficulty=e,this.generatePuzzle()}togglePossibleValue(e,t,i){if(this.initialBoard[e][t].isFixed||this.sudokuBoard[e][t].value!==null)return;let n=this.sudokuBoard[e][t].possibleValues.indexOf(i);n>-1?this.sudokuBoard[e][t].possibleValues.splice(n,1):this.sudokuBoard[e][t].possibleValues.push(i)}static printBoard(e){let t="";for(let i=0;i<9;i++){i!==0&&i%3==0&&(t+=`-----------
`);for(let n=0;n<9;n++)n%3==0&&n!=0&&(t+="|"),e[i][n].value!==null?t+=e[i][n].value:t+="*";t+=`
`}return t}saveBoard(){let e={board:this.sudokuBoard,difficulty:this.difficulty};localStorage.setItem("sudoku",JSON.stringify(e))}loadBoard(){let e=localStorage.getItem("sudoku");if(!e)return;let t=JSON.parse(e);console.log(t),this.sudokuBoard=t.board,this.difficulty=t.difficulty}};r.\u0275fac=function(t){return new(t||r)},r.\u0275cmp=x({type:r,selectors:[["app-sudoku"]],standalone:!0,features:[M],decls:26,vars:3,consts:[[1,"sudoku-container"],[1,"controls"],["for","difficulty"],["id","difficulty",3,"ngModelChange","change","ngModel"],["value","Easy"],["value","Medium"],["value","Hard"],[3,"click"],[4,"ngFor","ngForOf"],[3,"success","error",4,"ngIf"],[3,"class",4,"ngFor","ngForOf"],[1,"cell"],["type","number","min","1","max","9",3,"input","value","disabled"],["class","possible-values possible-values-top",4,"ngIf"],["class","possible-values possible-values-bottom",4,"ngIf"],[1,"possible-values","possible-values-top"],[3,"active","click",4,"ngFor","ngForOf"],[1,"possible-values","possible-values-bottom"]],template:function(t,i){t&1&&(a(0,"h2"),u(1,"Sudoku"),l(),a(2,"div",0)(3,"div",1)(4,"label",2),u(5,"Dificultad:"),l(),a(6,"select",3),T("ngModelChange",function(o){return E(i.difficulty,o)||(i.difficulty=o),o}),f("change",function(){return i.changeDifficulty(i.difficulty)}),a(7,"option",4),u(8,"F\xE1cil"),l(),a(9,"option",5),u(10,"Medio"),l(),a(11,"option",6),u(12,"Dif\xEDcil"),l()(),a(13,"button",7),f("click",function(){return i.checkSolution()}),u(14,"Comprobar Soluci\xF3n"),l(),a(15,"button",7),f("click",function(){return i.resetBoard()}),u(16,"Reiniciar"),l(),a(17,"button",7),f("click",function(){return i.generatePuzzle()}),u(18,"Nuevo Puzzle"),l(),a(19,"button",7),f("click",function(){return i.saveBoard()}),u(20,"Guardar Tablero"),l(),a(21,"button",7),f("click",function(){return i.loadBoard()}),u(22,"Cargar Tablero"),l()(),a(23,"table"),k(24,qe,2,1,"tr",8),l(),k(25,$e,2,5,"p",9),l()),t&2&&(p(6),P("ngModel",i.difficulty),p(18),h("ngForOf",i.sudokuBoard),p(),h("ngIf",i.solutionChecked))},dependencies:[B,ue,de,ce,Y,Q,X,R,ie],styles:[".sudoku-container[_ngcontent-%COMP%]{text-align:center;margin:20px}.controls[_ngcontent-%COMP%]{margin-bottom:20px}.controls[_ngcontent-%COMP%]   label[_ngcontent-%COMP%], .controls[_ngcontent-%COMP%]   select[_ngcontent-%COMP%], .controls[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin:0 10px;padding:5px 10px}table[_ngcontent-%COMP%]{margin:0 auto;border-collapse:collapse}td[_ngcontent-%COMP%]{border:2px solid #444;width:80px;height:80px;position:relative}td.col-2[_ngcontent-%COMP%]{border-right:3px solid #000}td.col-3[_ngcontent-%COMP%]{border-left:3px solid #000}td.col-5[_ngcontent-%COMP%]{border-right:3px solid #000}td.col-6[_ngcontent-%COMP%]{border-left:3px solid #000}td.row-2[_ngcontent-%COMP%]{border-bottom:3px solid #000}td.row-3[_ngcontent-%COMP%]{border-top:3px solid #000}td.row-5[_ngcontent-%COMP%]{border-bottom:3px solid #000}td.row-6[_ngcontent-%COMP%]{border-top:3px solid #000}.cell[_ngcontent-%COMP%]{width:100%;height:100%;position:relative}div.disabled[_ngcontent-%COMP%]{background-color:#ddd}div.invalid[_ngcontent-%COMP%]{background-color:#f8d7da}input[_ngcontent-%COMP%]{width:100%;height:100%;font-size:32px;text-align:center;border:none;background-color:transparent}input[_ngcontent-%COMP%]::-webkit-outer-spin-button, input[_ngcontent-%COMP%]::-webkit-inner-spin-button{-webkit-appearance:none;margin:0}input[type=number][_ngcontent-%COMP%]{-moz-appearance:textfield}.possible-values[_ngcontent-%COMP%]{position:absolute;display:grid;font-size:14px;color:#777}.possible-values-top[_ngcontent-%COMP%]{top:2px;left:2px;right:2px;grid-template-columns:repeat(5,1fr)}.possible-values-bottom[_ngcontent-%COMP%]{bottom:2px;left:2px;right:2px;grid-template-columns:repeat(4,1fr)}.possible-values-top[_ngcontent-%COMP%]   span[_ngcontent-%COMP%], .possible-values-bottom[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{cursor:pointer}.possible-values-top[_ngcontent-%COMP%]   span.active[_ngcontent-%COMP%], .possible-values-bottom[_ngcontent-%COMP%]   span.active[_ngcontent-%COMP%]{color:#000;font-weight:bolder}p[_ngcontent-%COMP%]{font-size:18px;font-weight:700}p.success[_ngcontent-%COMP%]{color:#28a745}p.error[_ngcontent-%COMP%]{color:#dc3545}@media only screen and (max-width: 1200px){td[_ngcontent-%COMP%]{width:60px;height:60px}.possible-values[_ngcontent-%COMP%]{font-size:10px}input[_ngcontent-%COMP%]{font-size:24px}}@media only screen and (max-width: 1000px){td[_ngcontent-%COMP%]{width:40px;height:40px}.possible-values[_ngcontent-%COMP%]{font-size:10px}input[_ngcontent-%COMP%]{font-size:18px}}@media only screen and (max-width: 700px){td[_ngcontent-%COMP%]{width:30px;height:30px}.possible-values[_ngcontent-%COMP%]{font-size:6px}input[_ngcontent-%COMP%]{font-size:14px}.possible-values-top[_ngcontent-%COMP%]{top:1px;left:1px;right:1px}.possible-values-bottom[_ngcontent-%COMP%]{bottom:1px;left:1px;right:1px;grid-template-columns:repeat(4,1fr)}}"]});let s=r;return s})();var Ze=[{path:"",component:Me,children:[{path:"tic-tac-toe",component:ke},{path:"four-in-a-row",component:we},{path:"game-of-life",component:J},{path:"rubik-cube",component:Oe},{path:"sudoku",component:ye}]}],Se=(()=>{let r=class r{};r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=G({type:r}),r.\u0275inj=D({imports:[z.forChild(Ze),z]});let s=r;return s})();var Dt=(()=>{let r=class r{};r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=G({type:r}),r.\u0275inj=D({imports:[X,ne.forChild(),pe,B,z,Se,J]});let s=r;return s})();export{Dt as GamesModule};
