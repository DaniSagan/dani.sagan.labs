import{A as p,B as f,C as g,L as M,d,fa as T,s as u,t as y,u as m}from"./chunk-BELQJ64D.js";var V=["graphCanvas"],k=(()=>{let s=class s{constructor(){this.xMin=-10,this.xMax=10,this.yMin=-10,this.yMax=10,this.gradientThreshold=1e6,this.functions=[]}ngOnInit(){this.context=this.canvas.nativeElement.getContext("2d")}drawGraph(){this.clear(),this.drawAxes(),this.functions.forEach(t=>this.drawFunction(t))}clear(){this.context.clearRect(0,0,this.canvas.nativeElement.width,this.canvas.nativeElement.height),this.context.fillStyle="white",this.context.fillRect(0,0,this.canvas.nativeElement.width,this.canvas.nativeElement.height)}drawAxes(){let t=this.xToPixel(0),e=this.yToPixel(0);this.context.beginPath(),this.context.strokeStyle="gray",this.context.moveTo(0,e),this.context.lineTo(this.canvas.nativeElement.width,e),this.context.moveTo(t,0),this.context.lineTo(t,this.canvas.nativeElement.height),this.context.stroke()}drawFunction(t){let e=this.canvas.nativeElement.width,i=this.canvas.nativeElement.height;this.context.beginPath(),this.context.strokeStyle="blue",this.context.fillStyle=t.color;for(let n=0;n<e;n++)for(let a=0;a<i;a++){let r=this.pixelToX(n),P=this.pixelToX(n+1),x=this.pixelToY(a),C=this.pixelToY(a+1),h,c,l;try{h=t.fn(r,x),c=t.fn(P,x),l=t.fn(r,C)}catch(v){throw console.error("Error evaluando la f\xF3rmula:",v),v}(h*c<=0||h*l<=0)&&h*c>-this.gradientThreshold&&h*l>=-this.gradientThreshold&&this.context.fillRect(n,a,1,1)}this.context.stroke()}draw(t){t(this.context)}setBounds(t,e,i,n){this.xMin=t,this.xMax=e,this.yMin=i,this.yMax=n}pixelToX(t){let e=this.canvas.nativeElement.width,i=this.xMax-this.xMin;return this.xMin+t*i/e}pixelToY(t){let e=this.canvas.nativeElement.height,i=this.yMax-this.yMin;return this.yMin+(e-t)*i/e}pixelToXY(t){return{x:this.pixelToX(t.x),y:this.pixelToY(t.y)}}yToPixel(t){let e=this.canvas.nativeElement.height,i=this.yMax-this.yMin;return e-(t-this.yMin)*(e/i)}xToPixel(t){let e=this.canvas.nativeElement.width,i=this.xMax-this.xMin;return(t-this.xMin)*(e/i)}xyToPixel(t){return{x:this.xToPixel(t.x),y:this.yToPixel(t.y)}}};s.\u0275fac=function(e){return new(e||s)},s.\u0275cmp=d({type:s,selectors:[["app-implicit-curve-graph"]],viewQuery:function(e,i){if(e&1&&p(V,7),e&2){let n;f(n=g())&&(i.canvas=n.first)}},standalone:!0,features:[M],decls:3,vars:0,consts:[["graphCanvas",""],["width","600","height","600"]],template:function(e,i){e&1&&(u(0,"div"),m(1,"canvas",1,0),y())},dependencies:[T],styles:["canvas[_ngcontent-%COMP%]{border:1px solid black;display:block;margin-top:20px;width:100%}"]});let o=s;return o})(),w=class{constructor(s,E){this.fn=s,this.color=E}};export{k as a,w as b};
