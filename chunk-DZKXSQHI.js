import{a as Ae,b as Ge}from"./chunk-DJAB5BJX.js";import{a as ve,h as Oe,j as me}from"./chunk-JMLXE5L5.js";import{$ as Fe,B as $,C as Q,D as X,E as U,G as p,H as le,I as ce,K as x,L as _,M as C,N as F,O as E,S as ye,T as Pe,U as ue,Y as Ee,Z as Se,_ as be,a as re,aa as ee,b as Ce,ba as A,c as oe,ca as G,d as ae,da as Ve,e as S,ea as We,f as se,fa as L,ga as De,h as g,ha as q,i as f,l as d,la as Te,m as we,ma as Ie,na as ke,o as K,oa as D,p as b,u,v as m,w as W,x as B,y as P,z as O}from"./chunk-SJAAEDOF.js";var Ue=["canvas"];function Je(e,n){if(e&1){let a=B();u(0,"div")(1,"label",12),p(2),m(),u(3,"input",13),P("input",function(i){let r=g(a).index,s=O();return f(s.updateEquations(i,r))}),m(),u(4,"label",12),p(5,"Color:"),m(),u(6,"input",14),C("ngModelChange",function(i){let r=g(a).index,s=O();return _(s.colors[r],i)||(s.colors[r]=i),f(i)}),P("change",function(i){let r=g(a).index,s=O();return f(s.updateEquations(i,r))}),m(),u(7,"button",10),P("click",function(){let i=g(a).index,r=O();return f(r.removeEquation(i))}),p(8,"Eliminar"),m()()}if(e&2){let a=n.$implicit,t=n.index,i=O();d(),$("for","equation",t,""),d(),ce("Ecuaci\xF3n ",t+1,":"),d(),$("id","equation",t,""),b("value",a),d(),$("for","color",t,""),d(2),$("id","color",t,""),x("ngModel",i.colors[t])}}var pe=(()=>{let n=class n{constructor(){this.equations=["x^2"],this.colors=["#00FF00"],this.xMin=-10,this.xMax=10,this.yMin=-10,this.yMax=10,this.scaleFactor=1,this.centerX=0,this.centerY=0}ngOnInit(){this.ctx=this.canvas.nativeElement.getContext("2d"),this.drawGraph()}drawGraph(){let t=this.canvas.nativeElement.width,i=this.canvas.nativeElement.height;this.ctx.clearRect(0,0,t,i),this.ctx.fillStyle="#000000",this.ctx.fillRect(0,0,t,i),this.drawAxes(),this.equations.forEach((r,s)=>{this.drawEquation(r,this.colors[s]||"#FFFFFF")})}drawAxes(){let t=this.canvas.nativeElement.width,i=this.canvas.nativeElement.height;this.ctx.strokeStyle="#FFFFFF",this.ctx.lineWidth=1,this.ctx.beginPath(),this.ctx.moveTo(0,this.yToPixel(0)),this.ctx.lineTo(t,this.yToPixel(0)),this.ctx.stroke(),this.ctx.beginPath(),this.ctx.moveTo(this.xToPixel(0),0),this.ctx.lineTo(this.xToPixel(0),i),this.ctx.stroke()}drawEquation(t,i){let r=this.canvas.nativeElement.width;this.ctx.strokeStyle=i,this.ctx.lineWidth=2,this.ctx.beginPath();let s=null,l=null;for(let o=0;o<r;o++){let c=this.pixelToX(o),w=this.evaluateEquation(t,c);if(w!=null&&!isNaN(w)){let h=this.yToPixel(w);s!==null&&l!==null?this.ctx.lineTo(o,h):this.ctx.moveTo(o,h),s=o,l=h}}this.ctx.stroke()}pixelToX(t){let i=this.canvas.nativeElement.width,r=this.xMax-this.xMin;return this.xMin+t*r/i}pixelToY(t){let i=this.canvas.nativeElement.height,r=this.yMax-this.yMin;return this.yMin+t*r/i}yToPixel(t){let i=this.canvas.nativeElement.height,r=this.yMax-this.yMin;return i-(t-this.yMin)*(i/r)}xToPixel(t){let i=this.canvas.nativeElement.width,r=this.xMax-this.xMin;return(t-this.xMin)*(i/r)}evaluateEquation(t,i){try{let r=t.replace(/\^/g,"**").replace(new RegExp("(?<=\\W|^)sqrt(?=\\W)","g"),"Math.sqrt").replace(new RegExp("(?<=\\W|^)cos(?=\\W)","g"),"Math.cos").replace(new RegExp("(?<=\\W|^)sin(?=\\W)","g"),"Math.sin").replace(new RegExp("(?<=\\W|^)tan(?=\\W)","g"),"Math.tan").replace(new RegExp("(?<=\\W|^)ln(?=\\W)","g"),"Math.log").replace(new RegExp("(?<=\\W|^)abs(?=\\W)","g"),"Math.abs").replace(new RegExp("(?<=\\W|^)e(?=\\W|$)","g"),"(Math.E)").replace(new RegExp("(?<=\\W|^)pi(?=\\W|$)","g"),"(Math.PI)").replace(/x/g,`(${i})`);return Function(`"use strict"; return (${r})`)()}catch{return}}handleWheel(t){t.preventDefault();let i=1.1;t.deltaY<0?this.scaleFactor/=i:this.scaleFactor*=i,this.drawGraph()}updateLimits(){this.drawGraph()}updateEquations(t,i){let r=t.target;this.equations[i]=r.value,this.drawGraph()}addEquation(){this.equations.push(""),this.colors.push("#FFFFFF")}removeEquation(t){this.equations.splice(t,1),this.colors.splice(t,1),this.drawGraph()}resetGraph(){this.xMin=-10,this.xMax=10,this.yMin=-10,this.yMax=10,this.scaleFactor=1,this.centerX=0,this.centerY=0,this.equations=["x^2"],this.colors=["#00FF00"],this.drawGraph()}trackByIndex(t,i){return t}};n.\u0275fac=function(i){return new(i||n)},n.\u0275cmp=S({type:n,selectors:[["app-graph-plotter"]],viewQuery:function(i,r){if(i&1&&Q(Ue,7),i&2){let s;X(s=U())&&(r.canvas=s.first)}},standalone:!0,features:[F],decls:22,vars:6,consts:[["canvas",""],["for","xMin"],["id","xMin","type","number",3,"ngModelChange","change","ngModel"],["for","xMax"],["id","xMax","type","number",3,"ngModelChange","change","ngModel"],["for","yMin"],["id","yMin","type","number",3,"ngModelChange","change","ngModel"],["for","yMax"],["id","yMax","type","number",3,"ngModelChange","change","ngModel"],[4,"ngFor","ngForOf","ngForTrackBy"],[3,"click"],["width","800","height","600",3,"wheel"],[3,"for"],["type","text",3,"input","id","value"],["type","color",3,"ngModelChange","change","id","ngModel"]],template:function(i,r){if(i&1){let s=B();u(0,"h2"),p(1,"Gr\xE1ficas de Funciones"),m(),u(2,"div")(3,"label",1),p(4,"X M\xEDn:"),m(),u(5,"input",2),C("ngModelChange",function(o){return g(s),_(r.xMin,o)||(r.xMin=o),f(o)}),P("change",function(){return g(s),f(r.updateLimits())}),m(),u(6,"label",3),p(7,"X M\xE1x:"),m(),u(8,"input",4),C("ngModelChange",function(o){return g(s),_(r.xMax,o)||(r.xMax=o),f(o)}),P("change",function(){return g(s),f(r.updateLimits())}),m(),u(9,"label",5),p(10,"Y M\xEDn:"),m(),u(11,"input",6),C("ngModelChange",function(o){return g(s),_(r.yMin,o)||(r.yMin=o),f(o)}),P("change",function(){return g(s),f(r.updateLimits())}),m(),u(12,"label",7),p(13,"Y M\xE1x:"),m(),u(14,"input",8),C("ngModelChange",function(o){return g(s),_(r.yMax,o)||(r.yMax=o),f(o)}),P("change",function(){return g(s),f(r.updateLimits())}),m()(),K(15,Je,9,11,"div",9),u(16,"button",10),P("click",function(){return g(s),f(r.addEquation())}),p(17,"Agregar Ecuaci\xF3n"),m(),u(18,"button",10),P("click",function(){return g(s),f(r.resetGraph())}),p(19,"Reiniciar Gr\xE1fica"),m(),u(20,"canvas",11,0),P("wheel",function(o){return g(s),f(r.handleWheel(o))}),m()}i&2&&(d(5),x("ngModel",r.xMin),d(3),x("ngModel",r.xMax),d(3),x("ngModel",r.yMin),d(3),x("ngModel",r.yMax),d(),b("ngForOf",r.equations)("ngForTrackBy",r.trackByIndex))},dependencies:[D,A,q,G,L,ye],styles:["canvas[_ngcontent-%COMP%]{border:1px solid #00FFFF;display:block;margin-top:20px}input[type=text][_ngcontent-%COMP%], input[type=number][_ngcontent-%COMP%], input[type=color][_ngcontent-%COMP%]{margin:5px;padding:5px}button[_ngcontent-%COMP%]{margin:5px;padding:5px;background-color:#444;color:#fff;border:none;cursor:pointer}button[_ngcontent-%COMP%]:hover{background-color:#666}"]});let e=n;return e})();var he=(()=>{let n=class n{constructor(){}ngOnInit(){}};n.\u0275fac=function(i){return new(i||n)},n.\u0275cmp=S({type:n,selectors:[["app-prime-decomposition-article"]],standalone:!0,features:[F],decls:3,vars:0,template:function(i,r){i&1&&(u(0,"h2"),p(1,"Factorizaci\xF3n en primos"),m(),W(2,"app-prime-decomposition"))},dependencies:[Oe]});let e=n;return e})();var Ze=()=>["/tools/prime-decomposition"],te=()=>["active"],ie=()=>({exact:!0}),Ke=()=>["/tools/graph-plotter"],$e=()=>["/tools/pi-decimals"],et=()=>["/tools/implicit-curve-graph"],tt=()=>["/tools/sun-position"],Le=(()=>{let n=class n{};n.\u0275fac=function(i){return new(i||n)},n.\u0275cmp=S({type:n,selectors:[["app-tools-navbar"]],standalone:!0,features:[F],decls:23,vars:30,consts:[[1,"nav-items"],[1,"subsection"],[3,"routerLink","routerLinkActive","routerLinkActiveOptions"]],template:function(i,r){i&1&&(u(0,"h2"),p(1,"Herramientas"),m(),u(2,"div",0)(3,"ul")(4,"li")(5,"div",1),p(6,"Otros"),m(),u(7,"ul")(8,"li")(9,"a",2),p(10,"Factorizaci\xF3n en primos"),m()(),u(11,"li")(12,"a",2),p(13,"Graficador de funciones"),m()(),u(14,"li")(15,"a",2),p(16,"Calculadora de decimales de pi"),m()(),u(17,"li")(18,"a",2),p(19,"Graficador Curvas Impl\xEDcitas"),m()(),u(20,"li")(21,"a",2),p(22,"Calculadora de Posici\xF3n Solar"),m()()()()()()),i&2&&(d(9),b("routerLink",E(15,Ze))("routerLinkActive",E(16,te))("routerLinkActiveOptions",E(17,ie)),d(3),b("routerLink",E(18,Ke))("routerLinkActive",E(19,te))("routerLinkActiveOptions",E(20,ie)),d(3),b("routerLink",E(21,$e))("routerLinkActive",E(22,te))("routerLinkActiveOptions",E(23,ie)),d(3),b("routerLink",E(24,et))("routerLinkActive",E(25,te))("routerLinkActiveOptions",E(26,ie)),d(3),b("routerLink",E(27,tt))("routerLinkActive",E(28,te))("routerLinkActiveOptions",E(29,ie)))},dependencies:[be,Fe],styles:[".nav-items[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style-type:none;margin:0 auto;padding:0}.nav-items[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{min-height:30px}.nav-items[_ngcontent-%COMP%]   .subsection[_ngcontent-%COMP%]{padding:5px 0;margin:5px 0;color:#000;font-weight:700}.nav-items[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{padding:5px;margin:5px;text-decoration:none;min-width:100px;color:#000;font-weight:400}.nav-items[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{background-color:#333;color:#fff}.nav-items[_ngcontent-%COMP%]   a.active[_ngcontent-%COMP%]{background-color:#04aa6d;color:#fff}"]});let e=n;return e})();var qe=(()=>{let n=class n{};n.\u0275fac=function(i){return new(i||n)},n.\u0275cmp=S({type:n,selectors:[["app-tools-content"]],standalone:!0,features:[F],decls:5,vars:0,consts:[[1,"article-with-sidebar"],[1,"sidebar"],[1,"body-text"]],template:function(i,r){i&1&&(u(0,"div",0)(1,"div",1),W(2,"app-tools-navbar"),m(),u(3,"div",2),W(4,"router-outlet"),m()())},dependencies:[Le,Se]});let e=n;return e})();var it=20,nt=1,R=1e6,Ne=1e6,rt=-7,ot=21,at=!1,ne="[big.js] ",j=ne+"Invalid ",de=j+"decimal places",st=j+"rounding mode",Be=ne+"Division by zero",M={},I=void 0,lt=/^-?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i;function Re(){function e(n){var a=this;if(!(a instanceof e))return n===I?Re():new e(n);if(n instanceof e)a.s=n.s,a.e=n.e,a.c=n.c.slice();else{if(typeof n!="string"){if(e.strict===!0&&typeof n!="bigint")throw TypeError(j+"value");n=n===0&&1/n<0?"-0":String(n)}ct(a,n)}a.constructor=e}return e.prototype=M,e.DP=it,e.RM=nt,e.NE=rt,e.PE=ot,e.strict=at,e.roundDown=0,e.roundHalfUp=1,e.roundHalfEven=2,e.roundUp=3,e}function ct(e,n){var a,t,i;if(!lt.test(n))throw Error(j+"number");for(e.s=n.charAt(0)=="-"?(n=n.slice(1),-1):1,(a=n.indexOf("."))>-1&&(n=n.replace(".","")),(t=n.search(/e/i))>0?(a<0&&(a=t),a+=+n.slice(t+1),n=n.substring(0,t)):a<0&&(a=n.length),i=n.length,t=0;t<i&&n.charAt(t)=="0";)++t;if(t==i)e.c=[e.e=0];else{for(;i>0&&n.charAt(--i)=="0";);for(e.e=a-t-1,e.c=[],a=0;t<=i;)e.c[a++]=+n.charAt(t++)}return e}function H(e,n,a,t){var i=e.c;if(a===I&&(a=e.constructor.RM),a!==0&&a!==1&&a!==2&&a!==3)throw Error(st);if(n<1)t=a===3&&(t||!!i[0])||n===0&&(a===1&&i[0]>=5||a===2&&(i[0]>5||i[0]===5&&(t||i[1]!==I))),i.length=1,t?(e.e=e.e-n+1,i[0]=1):i[0]=e.e=0;else if(n<i.length){if(t=a===1&&i[n]>=5||a===2&&(i[n]>5||i[n]===5&&(t||i[n+1]!==I||i[n-1]&1))||a===3&&(t||!!i[0]),i.length=n,t){for(;++i[--n]>9;)if(i[n]=0,n===0){++e.e,i.unshift(1);break}}for(n=i.length;!i[--n];)i.pop()}return e}function Y(e,n,a){var t=e.e,i=e.c.join(""),r=i.length;if(n)i=i.charAt(0)+(r>1?"."+i.slice(1):"")+(t<0?"e":"e+")+t;else if(t<0){for(;++t;)i="0"+i;i="0."+i}else if(t>0)if(++t>r)for(t-=r;t--;)i+="0";else t<r&&(i=i.slice(0,t)+"."+i.slice(t));else r>1&&(i=i.charAt(0)+"."+i.slice(1));return e.s<0&&a?"-"+i:i}M.abs=function(){var e=new this.constructor(this);return e.s=1,e};M.cmp=function(e){var n,a=this,t=a.c,i=(e=new a.constructor(e)).c,r=a.s,s=e.s,l=a.e,o=e.e;if(!t[0]||!i[0])return t[0]?r:i[0]?-s:0;if(r!=s)return r;if(n=r<0,l!=o)return l>o^n?1:-1;for(s=(l=t.length)<(o=i.length)?l:o,r=-1;++r<s;)if(t[r]!=i[r])return t[r]>i[r]^n?1:-1;return l==o?0:l>o^n?1:-1};M.div=function(e){var n=this,a=n.constructor,t=n.c,i=(e=new a(e)).c,r=n.s==e.s?1:-1,s=a.DP;if(s!==~~s||s<0||s>R)throw Error(de);if(!i[0])throw Error(Be);if(!t[0])return e.s=r,e.c=[e.e=0],e;var l,o,c,w,h,y=i.slice(),N=l=i.length,J=t.length,v=t.slice(0,l),V=v.length,z=e,fe=z.c=[],Me=0,Z=s+(z.e=n.e-e.e)+1;for(z.s=r,r=Z<0?0:Z,y.unshift(0);V++<l;)v.push(0);do{for(c=0;c<10;c++){if(l!=(V=v.length))w=l>V?1:-1;else for(h=-1,w=0;++h<l;)if(i[h]!=v[h]){w=i[h]>v[h]?1:-1;break}if(w<0){for(o=V==l?i:y;V;){if(v[--V]<o[V]){for(h=V;h&&!v[--h];)v[h]=9;--v[h],v[V]+=10}v[V]-=o[V]}for(;!v[0];)v.shift()}else break}fe[Me++]=w?c:++c,v[0]&&w?v[V]=t[N]||0:v=[t[N]]}while((N++<J||v[0]!==I)&&r--);return!fe[0]&&Me!=1&&(fe.shift(),z.e--,Z--),Me>Z&&H(z,Z,a.RM,v[0]!==I),z};M.eq=function(e){return this.cmp(e)===0};M.gt=function(e){return this.cmp(e)>0};M.gte=function(e){return this.cmp(e)>-1};M.lt=function(e){return this.cmp(e)<0};M.lte=function(e){return this.cmp(e)<1};M.minus=M.sub=function(e){var n,a,t,i,r=this,s=r.constructor,l=r.s,o=(e=new s(e)).s;if(l!=o)return e.s=-o,r.plus(e);var c=r.c.slice(),w=r.e,h=e.c,y=e.e;if(!c[0]||!h[0])return h[0]?e.s=-o:c[0]?e=new s(r):e.s=1,e;if(l=w-y){for((i=l<0)?(l=-l,t=c):(y=w,t=h),t.reverse(),o=l;o--;)t.push(0);t.reverse()}else for(a=((i=c.length<h.length)?c:h).length,l=o=0;o<a;o++)if(c[o]!=h[o]){i=c[o]<h[o];break}if(i&&(t=c,c=h,h=t,e.s=-e.s),(o=(a=h.length)-(n=c.length))>0)for(;o--;)c[n++]=0;for(o=n;a>l;){if(c[--a]<h[a]){for(n=a;n&&!c[--n];)c[n]=9;--c[n],c[a]+=10}c[a]-=h[a]}for(;c[--o]===0;)c.pop();for(;c[0]===0;)c.shift(),--y;return c[0]||(e.s=1,c=[y=0]),e.c=c,e.e=y,e};M.mod=function(e){var n,a=this,t=a.constructor,i=a.s,r=(e=new t(e)).s;if(!e.c[0])throw Error(Be);return a.s=e.s=1,n=e.cmp(a)==1,a.s=i,e.s=r,n?new t(a):(i=t.DP,r=t.RM,t.DP=t.RM=0,a=a.div(e),t.DP=i,t.RM=r,this.minus(a.times(e)))};M.neg=function(){var e=new this.constructor(this);return e.s=-e.s,e};M.plus=M.add=function(e){var n,a,t,i=this,r=i.constructor;if(e=new r(e),i.s!=e.s)return e.s=-e.s,i.minus(e);var s=i.e,l=i.c,o=e.e,c=e.c;if(!l[0]||!c[0])return c[0]||(l[0]?e=new r(i):e.s=i.s),e;if(l=l.slice(),n=s-o){for(n>0?(o=s,t=c):(n=-n,t=l),t.reverse();n--;)t.push(0);t.reverse()}for(l.length-c.length<0&&(t=c,c=l,l=t),n=c.length,a=0;n;l[n]%=10)a=(l[--n]=l[n]+c[n]+a)/10|0;for(a&&(l.unshift(a),++o),n=l.length;l[--n]===0;)l.pop();return e.c=l,e.e=o,e};M.pow=function(e){var n=this,a=new n.constructor("1"),t=a,i=e<0;if(e!==~~e||e<-Ne||e>Ne)throw Error(j+"exponent");for(i&&(e=-e);e&1&&(t=t.times(n)),e>>=1,!!e;)n=n.times(n);return i?a.div(t):t};M.prec=function(e,n){if(e!==~~e||e<1||e>R)throw Error(j+"precision");return H(new this.constructor(this),e,n)};M.round=function(e,n){if(e===I)e=0;else if(e!==~~e||e<-R||e>R)throw Error(de);return H(new this.constructor(this),e+this.e+1,n)};M.sqrt=function(){var e,n,a,t=this,i=t.constructor,r=t.s,s=t.e,l=new i("0.5");if(!t.c[0])return new i(t);if(r<0)throw Error(ne+"No square root");r=Math.sqrt(+Y(t,!0,!0)),r===0||r===1/0?(n=t.c.join(""),n.length+s&1||(n+="0"),r=Math.sqrt(n),s=((s+1)/2|0)-(s<0||s&1),e=new i((r==1/0?"5e":(r=r.toExponential()).slice(0,r.indexOf("e")+1))+s)):e=new i(r+""),s=e.e+(i.DP+=4);do a=e,e=l.times(a.plus(t.div(a)));while(a.c.slice(0,s).join("")!==e.c.slice(0,s).join(""));return H(e,(i.DP-=4)+e.e+1,i.RM)};M.times=M.mul=function(e){var n,a=this,t=a.constructor,i=a.c,r=(e=new t(e)).c,s=i.length,l=r.length,o=a.e,c=e.e;if(e.s=a.s==e.s?1:-1,!i[0]||!r[0])return e.c=[e.e=0],e;for(e.e=o+c,s<l&&(n=i,i=r,r=n,c=s,s=l,l=c),n=new Array(c=s+l);c--;)n[c]=0;for(o=l;o--;){for(l=0,c=s+o;c>o;)l=n[c]+r[o]*i[c-o-1]+l,n[c--]=l%10,l=l/10|0;n[c]=l}for(l?++e.e:n.shift(),o=n.length;!n[--o];)n.pop();return e.c=n,e};M.toExponential=function(e,n){var a=this,t=a.c[0];if(e!==I){if(e!==~~e||e<0||e>R)throw Error(de);for(a=H(new a.constructor(a),++e,n);a.c.length<e;)a.c.push(0)}return Y(a,!0,!!t)};M.toFixed=function(e,n){var a=this,t=a.c[0];if(e!==I){if(e!==~~e||e<0||e>R)throw Error(de);for(a=H(new a.constructor(a),e+a.e+1,n),e=e+a.e+1;a.c.length<e;)a.c.push(0)}return Y(a,!1,!!t)};M[Symbol.for("nodejs.util.inspect.custom")]=M.toJSON=M.toString=function(){var e=this,n=e.constructor;return Y(e,e.e<=n.NE||e.e>=n.PE,!!e.c[0])};M.toNumber=function(){var e=+Y(this,!0,!0);if(this.constructor.strict===!0&&!this.eq(e.toString()))throw Error(ne+"Imprecise conversion");return e};M.toPrecision=function(e,n){var a=this,t=a.constructor,i=a.c[0];if(e!==I){if(e!==~~e||e<1||e>R)throw Error(j+"precision");for(a=H(new t(a),e,n);a.c.length<e;)a.c.push(0)}return Y(a,e<=a.e||a.e<=t.NE||a.e>=t.PE,!!i)};M.valueOf=function(){var e=this,n=e.constructor;if(n.strict===!0)throw Error(ne+"valueOf disallowed");return Y(e,e.e<=n.NE||e.e>=n.PE,!0)};var ut=Re(),k=ut;function mt(e,n){e&1&&W(0,"div",7)}function pt(e,n){if(e&1&&(u(0,"div")(1,"div")(2,"strong"),p(3),m()(),u(4,"div",8),p(5,"3,"),m(),u(6,"div",8),p(7),m()()),e&2){let a=O();d(3),ce("\u03C0 (",a.n," decimales):"),d(4),le(a.piDecimals)}}var je=(()=>{let n=class n{constructor(){this.n=10,this.piDecimals="",this.decimalPartLength=100,this.calculating=!1,this.calculatingArctanMessage="",this.calculatingTermMessage=""}calculatePi(t){return re(this,null,function*(){k.DP=t+10;let i=performance.now();this.calculatingArctanMessage="Calculando arctan(1/5)";let r=yield this.arctan(new k(1).div(5),t+10);this.calculatingArctanMessage="Calculando arctan(1/239)";let s=yield this.arctan(new k(1).div(239),t+10),l=new k(4).times(new k(4).times(r).minus(s)),o=performance.now();return this.calculatingArctanMessage="",this.calculatingTermMessage=`Tiempo total: ${(o-i)/1e3} s.`,l.toFixed(t,k.roundDown)})}arctan(t,i){return re(this,null,function*(){let r=new k(0),s=t,l=t.times(t),o=1,c=new k(10).pow(-i);for(;s.abs().gt(c);)(o-1)/2%2==0?r=r.plus(s.div(o)):r=r.minus(s.div(o)),o=o+=2,s=s.times(l),this.calculatingTermMessage=`T\xE9rmino actual: ${s.toExponential(6)}, meta de precisi\xF3n: ${c.toString()}`,yield this.sleep(0);return r})}onCalculate(){return re(this,null,function*(){this.calculating=!0;let t=yield this.calculatePi(this.n),i=t.substring(2,t.length),r=[];for(let s=0;s<this.n/this.decimalPartLength;s++)r.push(i.substring(s*this.decimalPartLength,(s+1)*this.decimalPartLength));this.piDecimals=r.join(" "),this.calculating=!1})}sleep(t){return new Promise(i=>setTimeout(i,t))}};n.\u0275fac=function(i){return new(i||n)},n.\u0275cmp=S({type:n,selectors:[["app-pi-decimal"]],standalone:!0,features:[F],decls:17,vars:5,consts:[[1,"widget-container"],[1,"widget-title"],["for","decimals"],["id","decimals","type","number","min","1","max","1000",3,"ngModelChange","ngModel"],[3,"click"],["class","loader",4,"ngIf"],[4,"ngIf"],[1,"loader"],[1,"decimal-result"]],template:function(i,r){i&1&&(u(0,"h2"),p(1,"Calculadora de decimales de \u03C0"),m(),u(2,"div",0)(3,"div",1),p(4,"Calculadora decimales de \u03C0"),m(),u(5,"div")(6,"label",2),p(7,"N\xFAmero de decimales: "),m(),u(8,"input",3),C("ngModelChange",function(l){return _(r.n,l)||(r.n=l),l}),m(),u(9,"button",4),P("click",function(){return r.onCalculate()}),p(10,"Calcular"),m(),K(11,mt,1,0,"div",5),u(12,"div"),p(13),m(),u(14,"div"),p(15),m(),K(16,pt,8,2,"div",6),m()()),i&2&&(d(8),x("ngModel",r.n),d(3),b("ngIf",r.calculating),d(2),le(r.calculatingArctanMessage),d(2),le(r.calculatingTermMessage),d(),b("ngIf",r.piDecimals))},dependencies:[D,A,q,G,Ie,Te,L,Pe],styles:[".decimal-result[_ngcontent-%COMP%]{font-size:small;font-family:Courier New,Courier,monospace}.loader[_ngcontent-%COMP%]{border:8px solid #f3f3f3;border-top:8px solid #3498db;border-radius:50%;width:24px;height:24px;animation:_ngcontent-%COMP%_spin 2s linear infinite;display:inline-block}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}"]});let e=n;return e})();var ht=["curveGraph"],He=(()=>{let n=class n{constructor(){this.formula="x*x + y*y - 1",this.xMin=-10,this.xMax=10,this.yMin=-10,this.yMax=10}ngAfterViewInit(){this.onRedraw()}onRedraw(){if(this.validateFormula(this.formula)){let t=new Function("x","y",`"use strict"; return ${this.formula}`);this.curveGraph.functions=[new Ge(t,"red")],this.curveGraph.setBounds(this.xMin,this.xMax,this.yMin,this.yMax),this.curveGraph.drawGraph()}else console.log(`Formula was not valid (${this.formula})`)}validateFormula(t){return!(t.indexOf("x")<0||t.indexOf("y")<0)}};n.\u0275fac=function(i){return new(i||n)},n.\u0275cmp=S({type:n,selectors:[["app-implicit-curve-graph-tool"]],viewQuery:function(i,r){if(i&1&&Q(ht,7),i&2){let s;X(s=U())&&(r.curveGraph=s.first)}},standalone:!0,features:[F],decls:25,vars:5,consts:[["curveGraph",""],[1,"widget-container"],["for","formula"],["id","formula","placeholder","Ingresa la f\xF3rmula (ej. x*x + y*y - 1)",3,"ngModelChange","ngModel"],["for","xMin"],["id","xMin","type","number",3,"ngModelChange","ngModel"],["for","xMax"],["id","xMax","type","number",3,"ngModelChange","ngModel"],["for","yMin"],["id","yMin","type","number",3,"ngModelChange","ngModel"],["for","yMax"],["id","yMax","type","number",3,"ngModelChange","ngModel"],[3,"click"]],template:function(i,r){if(i&1){let s=B();u(0,"h2"),p(1,"Graficador de Curvas Implicitas"),m(),u(2,"div",1)(3,"div")(4,"label",2),p(5,"Ecuaci\xF3n (f(x, y) = 0): "),m(),u(6,"input",3),C("ngModelChange",function(o){return g(s),_(r.formula,o)||(r.formula=o),f(o)}),m(),u(7,"div")(8,"label",4),p(9,"x Min: "),m(),u(10,"input",5),C("ngModelChange",function(o){return g(s),_(r.xMin,o)||(r.xMin=o),f(o)}),m(),u(11,"label",6),p(12,"x Max: "),m(),u(13,"input",7),C("ngModelChange",function(o){return g(s),_(r.xMax,o)||(r.xMax=o),f(o)}),m()(),u(14,"div")(15,"label",8),p(16,"y Min: "),m(),u(17,"input",9),C("ngModelChange",function(o){return g(s),_(r.yMin,o)||(r.yMin=o),f(o)}),m(),u(18,"label",10),p(19,"y Max: "),m(),u(20,"input",11),C("ngModelChange",function(o){return g(s),_(r.yMax,o)||(r.yMax=o),f(o)}),m()(),u(21,"button",12),P("click",function(){return g(s),f(r.onRedraw())}),p(22,"Redibujar"),m()(),W(23,"app-implicit-curve-graph",null,0),m()}i&2&&(d(6),x("ngModel",r.formula),d(4),x("ngModel",r.xMin),d(3),x("ngModel",r.xMax),d(4),x("ngModel",r.yMin),d(3),x("ngModel",r.yMax))},dependencies:[me,Ae,D,A,q,G,L],styles:["input#formula[_ngcontent-%COMP%]{min-width:30em}"]});let e=n;return e})();var Ye=(()=>{let n=class n{constructor(){}getSunPosition(t,i){let s=(this.getJulianDate(i)-2451545)/36525,l=this.getSolarDeclination(s),o=this.getEquationOfTime(s),w=(this.getSolarTime(i,t.longitude,o)-12)*15*(Math.PI/180),h=t.latitude*(Math.PI/180),y=Math.asin(Math.sin(h)*Math.sin(l)+Math.cos(h)*Math.cos(l)*Math.cos(w)),N=Math.atan2(-Math.sin(w),Math.tan(l)*Math.cos(h)-Math.sin(h)*Math.cos(w)),J=y*(180/Math.PI),v=this.normalizeAngleDegrees(N*(180/Math.PI));return new _e(J,v)}getJulianDate(t){let i=t.getUTCFullYear(),r=t.getUTCMonth()+1,s=t.getUTCDate(),l=Math.floor(i/100),o=2-l+Math.floor(l/4),c=Math.floor(365.25*(i+4716))+Math.floor(30.6001*(r+1))+s+o-1524.5,w=(t.getUTCHours()+t.getUTCMinutes()/60)/24;return c+w}getSolarDeclination(t){let i=23.439292*(Math.PI/180),r=280.46646+36000.76983*t+3032e-7*t*t,s=357.52911+35999.05029*t-1537e-7*t*t,l=(1.914602-.004817*t-14e-6*t*t)*Math.sin(s*Math.PI/180)+(.019993-101e-6*t)*Math.sin(2*s*Math.PI/180)+289e-6*Math.sin(3*s*Math.PI/180),c=(r+l)*Math.PI/180;return Math.asin(Math.sin(i)*Math.sin(c))}getEquationOfTime(t){let i=23.439292*(Math.PI/180),r=280.46646+36000.76983*t+3032e-7*t*t,s=357.52911+35999.05029*t-1537e-7*t*t,l=(1.914602-.004817*t-14e-6*t*t)*Math.sin(s*Math.PI/180)+(.019993-101e-6*t)*Math.sin(2*s*Math.PI/180)+289e-6*Math.sin(3*s*Math.PI/180),c=(r+l)*Math.PI/180;return 4*((r-.0057183-Math.atan2(Math.cos(i)*Math.sin(c),Math.cos(c))*(180/Math.PI))%360)/60}getSolarTime(t,i,r){return t.getUTCHours()+t.getUTCMinutes()/60+i/15+r}normalizeAngleDegrees(t){let i=t;for(;i<0;)i+=360;for(;i>360;)i-=360;return i}};n.\u0275fac=function(i){return new(i||n)},n.\u0275prov=oe({token:n,factory:n.\u0275fac,providedIn:"root"});let e=n;return e})(),_e=class{constructor(n,a){this.elevation=n,this.azimuth=a}},ge=class{constructor(n,a){this.latitude=n,this.longitude=a}};var ze=(()=>{let n=class n{getCurrentPosition(){return new Ce(t=>{"geolocation"in navigator?navigator.geolocation.getCurrentPosition(i=>{t.next(i),t.complete()},i=>{t.error(i)}):t.error("Geolocation is not available in this browser.")})}};n.\u0275fac=function(i){return new(i||n)},n.\u0275prov=oe({token:n,factory:n.\u0275fac,providedIn:"root"});let e=n;return e})();var ft=["canvas"],Qe=(()=>{let n=class n{constructor(t,i){this.sunPositionCalculatorService=t,this.geolocationService=i,this.latitude=0,this.longitude=0,this.date=new Date().toISOString().substring(0,10),this.time="12:00",this.elevation=null,this.azimuth=null,this.orientation=null,this.year=null,this.dayHeight=2,this.minuteWidth=1,this.width=24*60*this.minuteWidth,this.height=365*this.dayHeight}ngOnInit(){let t=new Date;this.year=t.getFullYear()}calculateSunPosition(){if(this.year===null||this.orientation===null)return;let t=new ge(this.latitude,this.longitude);this.draw(t,this.year,this.orientation)}getGeolocation(){this.geolocationService.getCurrentPosition().subscribe({next:t=>{this.latitude=t.coords.latitude,this.longitude=t.coords.longitude},error:t=>{console.error("Error getting geolocation:",t)}})}getSunPositionsForDay(t,i){let r=[];for(let s=0;s<24;s++)for(let l=0;l<60;l++){let o=new Date(i.getFullYear(),i.getMonth(),i.getDate(),s,l,0),c=this.sunPositionCalculatorService.getSunPosition(t,o);r.push({coords:t,date:o,sunPosition:c})}return r}draw(t,i,r){let l=this.canvas.nativeElement.getContext("2d");if(!l)return;let o=new Date(i,0,1),c=0;for(;o.getFullYear()==i;){for(let h=0;h<24;h++)for(let y=0;y<60;y++){let N=new Date(o.getFullYear(),o.getMonth(),o.getDate(),h,y,0),J=this.sunPositionCalculatorService.getSunPosition(t,N);l.fillStyle=this.getColor(J,r),l.fillRect((h*60+y)*this.minuteWidth,c*this.dayHeight,this.minuteWidth,this.dayHeight),y===0&&(l.fillStyle="red",l.fillRect((h*60+y)*this.minuteWidth,c*this.dayHeight,1,this.dayHeight)),o.getDate()===1&&(l.fillStyle="red",l.fillRect((h*60+y)*this.minuteWidth,c*this.dayHeight,this.minuteWidth,1))}let w=new Date(o.valueOf());o.setDate(w.getDate()+1),c++}}getColor(t,i){if(t.elevation<0)return"black";let r=new ve(Math.cos(i*Math.PI/180),Math.sin(i*Math.PI/180)),s=new ve(Math.cos(t.azimuth*Math.PI/180),Math.sin(t.azimuth*Math.PI/180));return r.x*s.x+r.y*s.y<0?"lightblue":t.elevation<10?"orange":"yellow"}};n.\u0275fac=function(i){return new(i||n)(we(Ye),we(ze))},n.\u0275cmp=S({type:n,selectors:[["app-sun-position"]],viewQuery:function(i,r){if(i&1&&Q(ft,7),i&2){let s;X(s=U())&&(r.canvas=s.first)}},standalone:!0,features:[F],decls:23,vars:6,consts:[["canvas",""],[1,"widget-container"],[3,"click"],[3,"ngSubmit"],["type","number","name","latitude","required","",3,"ngModelChange","ngModel"],["type","number","name","longitude","required","",3,"ngModelChange","ngModel"],["type","number","name","orientation","required","",3,"ngModelChange","ngModel"],["type","number","name","year","required","",3,"ngModelChange","ngModel"],["type","submit"],[3,"width","height"]],template:function(i,r){if(i&1){let s=B();u(0,"div",1)(1,"h2"),p(2,"Calculadora Posici\xF3n Solar"),m(),u(3,"button",2),P("click",function(){return g(s),f(r.getGeolocation())}),p(4,"Obtener geolocalizaci\xF3n"),m(),u(5,"form",3),P("ngSubmit",function(){return g(s),f(r.calculateSunPosition())}),u(6,"label"),p(7,"Latitud (\xBA): "),u(8,"input",4),C("ngModelChange",function(o){return g(s),_(r.latitude,o)||(r.latitude=o),f(o)}),m()(),u(9,"label"),p(10,"Longitud (\xBA): "),u(11,"input",5),C("ngModelChange",function(o){return g(s),_(r.longitude,o)||(r.longitude=o),f(o)}),m()(),u(12,"label"),p(13,"Orientaci\xF3n (\xBA): "),u(14,"input",6),C("ngModelChange",function(o){return g(s),_(r.orientation,o)||(r.orientation=o),f(o)}),m()(),u(15,"label"),p(16,"A\xF1o: "),u(17,"input",7),C("ngModelChange",function(o){return g(s),_(r.year,o)||(r.year=o),f(o)}),m()(),W(18,"br"),u(19,"button",8),p(20,"Calcular Posici\xF3n"),m()(),W(21,"canvas",9,0),m()}i&2&&(d(8),x("ngModel",r.latitude),d(3),x("ngModel",r.longitude),d(3),x("ngModel",r.orientation),d(3),x("ngModel",r.year),d(4),b("width",r.width)("height",r.height))},dependencies:[D,De,A,q,G,Ve,ke,L,We,ue],styles:[".container[_ngcontent-%COMP%]{max-width:400px;margin:0 auto;padding:20px;border:1px solid #ccc;border-radius:8px}label[_ngcontent-%COMP%]{display:block;margin-bottom:8px}button[_ngcontent-%COMP%]{margin-top:16px}canvas[_ngcontent-%COMP%]{width:100%;height:100%}"]});let e=n;return e})();var Mt=[{path:"",component:qe,children:[{path:"graph-plotter",component:pe},{path:"prime-decomposition",component:he},{path:"pi-decimals",component:je},{path:"implicit-curve-graph",component:He},{path:"sun-position",component:Qe}]}],Xe=(()=>{let n=class n{};n.\u0275fac=function(i){return new(i||n)},n.\u0275mod=se({type:n}),n.\u0275inj=ae({imports:[ee.forChild(Mt),ee]});let e=n;return e})();var ui=(()=>{let n=class n{};n.\u0275fac=function(i){return new(i||n)},n.\u0275mod=se({type:n}),n.\u0275inj=ae({imports:[ue,Ee.forChild(),me,D,ee,Xe,pe,he]});let e=n;return e})();export{ui as ToolsModule};
